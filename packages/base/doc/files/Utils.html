<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Event.html">Event</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/LogFile.html">LogFile</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li>
						<a href="../files/Model.html">Model</a>
					</li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li>
						<a href="../files/Society.html">Society</a>
					</li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/FileSystem.html">FileSystem</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li><strong>Utils</strong></li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Utils
					
					
					</h1>

					
						<span class="description">Some basic and useful functions for modeling.</span>
					
					
					
					

					
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#CSVparseLine">CSVparseLine</a>&nbsp;
<td class="summary">Parse a single CSV line.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#CSVread">CSVread</a>&nbsp;
<td class="summary">Read a CSV file.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#CSVwrite">CSVwrite</a>&nbsp;
<td class="summary">Write a given table into a CSV file.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#belong">belong</a>&nbsp;
<td class="summary">Return whether a given value belong to a table.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#call">call</a>&nbsp;
<td class="summary">Return a function that executes a given function of an object.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#clean">clean</a>&nbsp;
<td class="summary">Remove all graphical interfaces (<a href=files/Chart.html>Chart</a>, <a href=files/Map.html>Map</a>, etc.).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#clone">clone</a>&nbsp;
<td class="summary">Return a copy of a given table.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#closeFile">closeFile</a>&nbsp;
<td class="summary">Close an opened file.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#d">d</a>&nbsp;
<td class="summary">Constructor for an ordinary differential equation.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#delay">delay</a>&nbsp;
<td class="summary">Pause the simulation for a given time.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#disableGraphics">disableGraphics</a>&nbsp;
<td class="summary">Disable all graphics.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#elapsedTime">elapsedTime</a>&nbsp;
<td class="summary">Convert the time in seconds to a more readable value.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#enableGraphics">enableGraphics</a>&nbsp;
<td class="summary">Enable all graphics.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachAgent">forEachAgent</a>&nbsp;
<td class="summary">Second order function to traverse a <a href=files/Society.html>Society</a>, <a href=files/Group.html>Group</a>, or <a href=files/Cell.html>Cell</a>, applying a function to each of its <a href=files/Agent.html>Agents</a>.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachCell">forEachCell</a>&nbsp;
<td class="summary">Second order function to transverse a given <a href=files/CellularSpace.html>CellularSpace</a>, <a href=files/Trajectory.html>Trajectory</a>, or <a href=files/Agent.html>Agent</a>, applying a given function to each of its <a href=files/Cell.html>Cells</a>.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachCellPair">forEachCellPair</a>&nbsp;
<td class="summary">Second order function to transverse two <a href=files/CellularSpace.html>CellularSpaces</a> with the same resolution and size.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachConnection">forEachConnection</a>&nbsp;
<td class="summary">Second order function to transverse the connections of a given <a href=files/Agent.html>Agent</a>, applying a function to each of them.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachElement">forEachElement</a>&nbsp;
<td class="summary">Second order function to transverse a given object, applying a function to each of its elements.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachFile">forEachFile</a>&nbsp;
<td class="summary">Second order function to transverse a given directory, applying a given function on each of its files.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachNeighbor">forEachNeighbor</a>&nbsp;
<td class="summary">Second order function to transverse a given <a href=files/Neighborhood.html>Neighborhood</a> of a <a href=files/Cell.html>Cell</a>, applying a function in each of its neighbors.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachNeighborhood">forEachNeighborhood</a>&nbsp;
<td class="summary">Second order function to transverse all <a href=files/Neighborhood.html>Neighborhoods</a> of a <a href=files/Cell.html>Cell</a>, applying a given function on them.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachOrderedElement">forEachOrderedElement</a>&nbsp;
<td class="summary">Second order function to transverse a given object, applying a function to each of its elements according to their alphabetical order.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#forEachSocialNetwork">forEachSocialNetwork</a>&nbsp;
<td class="summary">Second order function to transverse all <a href=files/SocialNetwork.html>SocialNetworks</a> of an <a href=files/Agent.html>Agent</a>, applying a given function on them.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getConfig">getConfig</a>&nbsp;
<td class="summary">Return a table with the content of the file config.lua, stored in the current directory of the simulation.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getExtension">getExtension</a>&nbsp;
<td class="summary">Return the extension of a given file name.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getNames">getNames</a>&nbsp;
<td class="summary">Return the names of a given object derived from a table.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getn">getn</a>&nbsp;
<td class="summary">Return the number of elements of a table, be them named or not.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#greaterByAttribute">greaterByAttribute</a>&nbsp;
<td class="summary">Return a function that compares two tables (which can be, for instance, <a href=files/Agent.html>Agents</a> or <a href=files/Cell.html>Cells</a>).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#greaterByCoord">greaterByCoord</a>&nbsp;
<td class="summary">Return a function that compares two tables with x and y attributes (basically two regular <a href=files/Cell.html>Cells</a>).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#integrate">integrate</a>&nbsp;
<td class="summary">A second order function to numerically solve ordinary differential equations with a given initial value.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#integrationEuler">integrationEuler</a>&nbsp;
<td class="summary">Implements the Euler (Euler-Cauchy) Method to integrate ordinary differential equations.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#integrationHeun">integrationHeun</a>&nbsp;
<td class="summary">Implements the Heun (Euler Second Order) Method to integrate ordinary differential equations.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#integrationRungeKutta">integrationRungeKutta</a>&nbsp;
<td class="summary">Implements the Runge-Kutta Method (Fourth Order) to integrate ordinary differential equations.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#isModel">isModel</a>&nbsp;
<td class="summary">Return whether a given value is a <a href=files/Model.html>Model</a> or an instance of a Model.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#isTable">isTable</a>&nbsp;
<td class="summary">Return whether an object can be used as a table.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#levenshtein">levenshtein</a>&nbsp;
<td class="summary">Return the Levenshtein's distance between two strings.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#makeDataTable">makeDataTable</a>&nbsp;
<td class="summary">Create a table with indexes according to a given configuration.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#openFile">openFile</a>&nbsp;
<td class="summary">Open a file for reading or writing.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#round">round</a>&nbsp;
<td class="summary">Round a number given a precision.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#sessionInfo">sessionInfo</a>&nbsp;
<td class="summary">Return information about the current execution.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#string.endswith">string.endswith</a>&nbsp;
<td class="summary">Return whether a string ends with a given substring (no case sensitive).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#switch">switch</a>&nbsp;
<td class="summary">Implement a switch case function, where functions are associated to the available options.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#toLabel">toLabel</a>&nbsp;
<td class="summary">Convert a string into a more readable name.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#type">type</a>&nbsp;
<td class="summary">Return the type of an object.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#vardump">vardump</a>&nbsp;
<td class="summary">Function that returns a string describing the internal content of an object.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="CSVparseLine">

	</a><strong>CSVparseLine</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Parse a single CSV line. It returns a vector of strings with the i-th value in the position i. This function was taken froom <a href="http://lua-users.org/wiki/LuaCsv" target="_blank">http://lua-users.org/wiki/LuaCsv</a>.</span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string from a CSV file.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the separator. The default value is ','.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: A number with the position of the line in the file. The default value is zero.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">line</span> = <span class="function">CSVparseLine</span>(<span class="string">"2,5,aa"</span>, <span class="string">","</span>)
<span class="id">print</span>(<span class="id">line</span>[<span class="number">1</span>])
<span class="id">print</span>(<span class="id">line</span>[<span class="number">2</span>])
<span class="id">print</span>(<span class="id">line</span>[<span class="number">3</span>])</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="CSVread">

	</a><strong>CSVread</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Read a CSV file. It returns a vector (whose indexes are line numbers) containing named tables (whose indexes are attribute names). The first line of the file list the attribute names.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the location of the CSV file.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the separator. The default value is ','.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">mytable</span> = <span class="function">CSVread</span>(<span class="id">filePath</span>(<span class="string">"agents.csv"</span>, <span class="string">"base"</span>))

<span class="id">print</span>(<span class="id">mytable</span>[<span class="number">1</span>].<span class="id">name</span>) <span class="comment">-- john</span>
<span class="id">print</span>(<span class="id">mytable</span>[<span class="number">2</span>].<span class="id">age</span>) <span class="comment">-- 18</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="CSVwrite">

	</a><strong>CSVwrite</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Write a given table into a CSV file. The first line of the file will list the attributes of each table.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A table to be saved. It must be a vector (whose indexes are line numbers) containing named-tables (whose indexes are attribute names).
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the location of the CSV file.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: A string with the separator. The default value is ','.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">mytable</span> = {
    {<span class="id">age</span> = <span class="number">1</span>, <span class="id">wealth</span> = <span class="number">10</span>, <span class="id">vision</span> = <span class="number">2</span>},
    {<span class="id">age</span> = <span class="number">3</span>, <span class="id">wealth</span> =  <span class="number">8</span>, <span class="id">vision</span> = <span class="number">1</span>},
    {<span class="id">age</span> = <span class="number">3</span>, <span class="id">wealth</span> = <span class="number">15</span>, <span class="id">vision</span> = <span class="number">2</span>}
}

<span class="function">CSVwrite</span>(<span class="id">mytable</span>, <span class="string">"file.csv"</span>, <span class="string">";"</span>)
<span class="id">rmFile</span>(<span class="string">"file.csv"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="belong">

	</a><strong>belong</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether a given value belong to a table.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A value.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A table with a set of values.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">belong</span>(<span class="number">2</span>, {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>})</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="call">

	</a><strong>call</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a function that executes a given function of an object. It is particularly useful as argument action for an <a href=../files/Event.html>Event</a>.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: Any TerraME object.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the function to be executed.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">a</span> = <span class="function">Agent</span>{<span class="id">exec</span> = <span class="reserved">function</span>(<span class="id">self</span>, <span class="id">ev</span>) <span class="id">print</span>(<span class="id">ev</span>:<span class="id">getTime</span>()) <span class="reserved">end</span>}

<span class="id">t</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="function">call</span>(<span class="id">a</span>, <span class="string">"exec"</span>)}
}

<span class="id">t</span>:<span class="id">run</span>(<span class="number">10</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="clean">

	</a><strong>clean</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove all graphical interfaces (<a href=../files/Chart.html>Chart</a>, <a href=../files/Map.html>Map</a>, etc.). This function is particularly useful when one wants to simulate a <a href=../files/Model.html>Model</a> repeated times.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="function">clean</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="clone">

	</a><strong>clone</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a copy of a given table. It does not copy metatables.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A table.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">animal</span> = {
    <span class="id">age</span> = <span class="number">5</span>,
    <span class="id">height</span> = <span class="number">10</span>,
    <span class="id">weight</span> = <span class="number">8</span>
}

<span class="id">copy</span> = <span class="function">clone</span>(<span class="id">animal</span>)
<span class="id">copy</span>.<span class="id">age</span> = <span class="number">2</span>

<span class="id">print</span>(<span class="id">animal</span>.<span class="id">age</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="closeFile">

	</a><strong>closeFile</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Close an opened file.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: the file to be closed.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">file</span> = <span class="id">openFile</span>(<span class="string">"myfile.txt"</span>)
<span class="function">closeFile</span>(<span class="id">file</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#openFile">openFile	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="d">

	</a><strong>d</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Constructor for an ordinary differential equation. It works in the same way of <a href=../files/Utils.html#integrate>integrate()</a>, but it is more efficient as it does not get a table as argument. The default integration method is Euler but the modeler can declare a global variable INTEGRATION_METHOD to change the default method.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>1</strong>: A differential equation or a vector of differential equations. Each equation is described as a function of one or two arguments that returns a value of its derivative f(t, y), where t is the time instant, and y starts with the value of attribute initial and changes according to the result of f() and the chosen method. The calls to f will use the first argument (t) in the interval [a,b[, according to the argument step.
    </li> 
    
  
    <li>
	  <strong>2</strong>: The initial condition, or a vector of initial conditions, which must be satisfied. Each initial condition represents the value of y when t (first argument of f) is equal to the value of argument a.
    </li> 
    
  
    <li>
	  <strong>3</strong>: A number with the beginning of the interval.
    </li> 
    
  
    <li>
	  <strong>4</strong>: A number with the end of the interval.
    </li> 
    
  
    <li>
	  <strong>5</strong>: A positive number with the step within the interval. The default value is 0.2, but the user can change it by declaring a global variable DELTA.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">df</span> = <span class="reserved">function</span>(<span class="id">x</span>, <span class="id">y</span>) <span class="reserved">return</span> <span class="id">y</span> - <span class="id">x</span> ^ <span class="number">2</span> + <span class="number">1</span> <span class="reserved">end</span>
<span class="id">a</span> = <span class="number">0</span>
<span class="id">b</span> = <span class="number">2</span>
<span class="id">init</span> = <span class="number">0.5</span>
<span class="id">delta</span> = <span class="number">0.2</span>

<span class="id">result</span> = <span class="function">d</span>{<span class="id">df</span>, <span class="id">init</span>, <span class="id">a</span>, <span class="id">b</span>, <span class="id">delta</span>}
<span class="id">print</span>(<span class="id">result</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="delay">

	</a><strong>delay</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Pause the simulation for a given time.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number indicating how long in seconds should the model pause. The default value is 1.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">delay</span>(<span class="number">0.1</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="disableGraphics">

	</a><strong>disableGraphics</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Disable all graphics. If one create a <a href=../files/Chart.html>Chart</a>, <a href=../files/Map.html>Map</a>, or any other object that has a graphical interface, it will not be shown. Because of that, it will not be possible to save the output from these objects.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="function">disableGraphics</span>()</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#enableGraphics">enableGraphics	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="elapsedTime">

	</a><strong>elapsedTime</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Convert the time in seconds to a more readable value. It returns a string in the format "hours:minutes:seconds", or "days:hours:minutes:seconds" if the elapsed time is more than one day.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(<span class="function">elapsedTime</span>(<span class="number">100</span>)) <span class="comment">-- 00:01:40</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="enableGraphics">

	</a><strong>enableGraphics</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Enable all graphics. This function is useful to restore TerraME status after calling <a href=../files/Utils.html#disableGraphics>disableGraphics()</a>.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="function">enableGraphics</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachAgent">

	</a><strong>forEachAgent</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to traverse a <a href=../files/Society.html>Society</a>, <a href=../files/Group.html>Group</a>, or <a href=../files/Cell.html>Cell</a>, applying a function to each of its <a href=../files/Agent.html>Agents</a>. It returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A Society, Group, or Cell. Cells need to have a placement in order to execute this function.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A function that takes one single Agent as argument. If some call to it returns false, forEachAgent() stops and does not process any other Agent. This function can optionally get a second argument with a positive number representing the position of the Agent in the vector of Agents.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{<span class="id">age</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">0</span>, <span class="id">max</span> = <span class="number">2</span>}}
<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">5</span>
}

<span class="function">forEachAgent</span>(<span class="id">soc</span>, <span class="reserved">function</span>(<span class="id">agent</span>)
    <span class="id">agent</span>.<span class="id">age</span> = <span class="id">agent</span>.<span class="id">age</span> + <span class="number">1</span>
<span class="reserved">end</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Environment.html#createPlacement">createPlacement (Environment)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachCell">

	</a><strong>forEachCell</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse a given <a href=../files/CellularSpace.html>CellularSpace</a>, <a href=../files/Trajectory.html>Trajectory</a>, or <a href=../files/Agent.html>Agent</a>, applying a given function to each of its <a href=../files/Cell.html>Cells</a>. If any of the function calls returns false, forEachCell() stops and returns false, otherwise it returns true.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A CellularSpace, Trajectory, or Agent. Agents need to have a placement in order to execute this function.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A user-defined function that takes a Cell as argument. It can optionally have a second argument with a positive number representing the position of the Cell in the vector of Cells. If it returns false when processing a given Cell, forEachCell() stops and does not process any other Cell.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cellularspace</span> = <span class="function">CellularSpace</span>{<span class="id">xdim</span> = <span class="number">10</span>}

<span class="function">forEachCell</span>(<span class="id">cellularspace</span>, <span class="reserved">function</span>(<span class="id">cell</span>)
    <span class="id">cell</span>.<span class="id">water</span> = <span class="number">0</span>
<span class="reserved">end</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Environment.html#createPlacement">createPlacement (Environment)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachCellPair">

	</a><strong>forEachCellPair</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse two <a href=../files/CellularSpace.html>CellularSpaces</a> with the same resolution and size. It applies a function that gets two <a href=../files/Cell.html>Cells</a> as arguments, one from each CellularSpace. Both Cells share the same (x, y) location. It returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A CellularSpace.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: Another CellularSpace.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: A user-defined function that takes two Cells as arguments, one coming from the first argument and the other from the second one. If some call returns false, forEachCellPair() stops and does not process any other pair of Cells.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs1</span> = <span class="function">CellularSpace</span>{
    <span class="id">xdim</span> = <span class="number">10</span>,
    <span class="id">instance</span> = <span class="function">Cell</span>{<span class="id">water</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">0</span>, <span class="id">max</span> = <span class="number">20</span>}}
}
<span class="id">cs2</span> = <span class="function">CellularSpace</span>{<span class="id">xdim</span> = <span class="number">10</span>}

<span class="function">forEachCellPair</span>(<span class="id">cs1</span>, <span class="id">cs2</span>, <span class="reserved">function</span>(<span class="id">cell1</span>, <span class="id">cell2</span>)
    <span class="id">cell2</span>.<span class="id">water</span> = <span class="id">cell1</span>.<span class="id">water</span>
    <span class="id">cell1</span>.<span class="id">water</span> = <span class="number">0</span>
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachConnection">

	</a><strong>forEachConnection</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse the connections of a given <a href=../files/Agent.html>Agent</a>, applying a function to each of them. It returns true if no call to the function taken as argument returns false, otherwise it returns false. There are two ways of using this function because the second argument is optional.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: An Agent.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: (Optional) A string with the name of the <a href=../files/SocialNetwork.html>SocialNetwork</a> to be transversed. The default value is "1".
    </li> 
    
  
    <li>
	  <strong>#3</strong>: A function that takes three arguments: the Agent itself, its connection, and the connection weight. If some call to f returns false, forEachConnection() stops and does not process any other connection. In the case where the second argument is missing, this function becomes the second argument.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{
    <span class="id">value</span> = <span class="number">2</span>,
    <span class="id">on_message</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"thanks"</span>) <span class="reserved">end</span>
}

<span class="id">soc</span> = <span class="function">Society</span>{<span class="id">instance</span> = <span class="id">ag</span>, <span class="id">quantity</span> = <span class="number">10</span>}

<span class="id">soc</span>:<span class="id">createSocialNetwork</span>{<span class="id">quantity</span> = <span class="number">3</span>}

<span class="function">forEachConnection</span>(<span class="id">soc</span>:<span class="id">sample</span>(), <span class="reserved">function</span>(<span class="id">ag1</span>, <span class="id">ag2</span>)
    <span class="id">ag1</span>:<span class="id">message</span>{<span class="id">receiver</span> = <span class="id">ag2</span>}
<span class="reserved">end</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Society.html#createSocialNetwork">createSocialNetwork (Society)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachElement">

	</a><strong>forEachElement</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse a given object, applying a function to each of its elements. It can be used for instance to transverse all the elements of an <a href=../files/Agent.html>Agent</a> or an <a href=../files/Environment.html>Environment</a>. According to the current Lua version, if one uses this function twice, Lua does not guarantee that the objects will be transversed in the same order. If you need to guarantee this, it is recommended to use <a href=../files/Utils.html#forEachOrderedElement>forEachOrderedElement()</a> instead. This function returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A TerraME object or a table.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A user-defined function that takes three arguments: the name of the element, the element itself, and the type of the element. If some call to this function returns false then forEachElement() stops.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cell</span> = <span class="function">Cell</span>{
    <span class="id">value1</span> = <span class="number">10</span>,
    <span class="id">value2</span> = <span class="number">5</span>
}

<span class="function">forEachElement</span>(<span class="id">cell</span>, <span class="reserved">function</span>(<span class="id">idx</span>, <span class="id">_</span>, <span class="id">etype</span>)
    <span class="id">print</span>(<span class="id">idx</span>..<span class="string">"\t"</span>..<span class="id">etype</span>)
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachFile">

	</a><strong>forEachFile</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse a given directory, applying a given function on each of its files. Internal directories are also considered files. If any of the function calls returns false, forEachFile() stops and returns false, otherwise it returns true.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the path to a directory, or a vector of files.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A user-defined function that takes a file name as argument. Note that the name does not include the directory where the file is placed.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">forEachFile</span>(<span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">path</span>, <span class="reserved">function</span>(<span class="id">file</span>)
    <span class="id">print</span>(<span class="id">file</span>)
<span class="reserved">end</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/FileSystem.html#dir">dir (FileSystem)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachNeighbor">

	</a><strong>forEachNeighbor</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse a given <a href=../files/Neighborhood.html>Neighborhood</a> of a <a href=../files/Cell.html>Cell</a>, applying a function in each of its neighbors. It returns true if no call to the function taken as argument returns false, otherwise it returns false. There are two ways of using this function because the second argument is optional.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A Cell.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: (Optional) A string with the name of the Neighborhood to be transversed. The default value is "1".
    </li> 
    
  
    <li>
	  <strong>#3</strong>: A user-defined function that takes three arguments: the Cell itself, the neighbor Cell, and the connection weight. If some call to it returns false, forEachNeighbor() stops and does not process any other neighbor. In the case where the second argument is missing, this function becomes the second argument.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span> = <span class="function">CellularSpace</span>{
    <span class="id">xdim</span> = <span class="number">10</span>,
    <span class="id">instance</span> = <span class="function">Cell</span>{<span class="id">deforestation</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">0</span>, <span class="id">max</span> = <span class="number">1</span>}}
}

<span class="id">cs</span>:<span class="id">createNeighborhood</span>()

<span class="function">forEachNeighbor</span>(<span class="id">cs</span>:<span class="id">sample</span>(), <span class="reserved">function</span>(<span class="id">cell</span>, <span class="id">neighbor</span>)
    <span class="reserved">if</span> <span class="id">neighbor</span>.<span class="id">deforestation</span> > <span class="number">0.9</span> <span class="reserved">then</span>
        <span class="id">cell</span>.<span class="id">deforestation</span> = <span class="id">cell</span>.<span class="id">deforestation</span> * <span class="number">1.01</span>
    <span class="reserved">end</span>
<span class="reserved">end</span>)

<span class="id">cs</span>:<span class="id">createNeighborhood</span>{
    <span class="id">strategy</span> = <span class="string">"vonneumann"</span>,
    <span class="id">name</span> = <span class="string">"vonneumann"</span>,
    <span class="id">self</span> = <span class="reserved">true</span>
}

<span class="function">forEachNeighbor</span>(<span class="id">cs</span>:<span class="id">sample</span>(), <span class="string">"vonneumann"</span>, <span class="reserved">function</span>(<span class="id">cell</span>, <span class="id">neighbor</span>)
    <span class="reserved">if</span> <span class="id">cell</span>.<span class="id">deforestation</span> <= <span class="id">neighbor</span>.<span class="id">deforestation</span> <span class="reserved">then</span>
        <span class="id">cell</span>.<span class="id">deforestation</span> = <span class="id">neighbor</span>.<span class="id">deforestation</span>
    <span class="reserved">end</span>
<span class="reserved">end</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/CellularSpace.html#createNeighborhood">createNeighborhood (CellularSpace)	</a>
		
	</li>
	
	<li>
		

			<a href="../files/CellularSpace.html#loadNeighborhood">loadNeighborhood (CellularSpace)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachNeighborhood">

	</a><strong>forEachNeighborhood</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse all <a href=../files/Neighborhood.html>Neighborhoods</a> of a <a href=../files/Cell.html>Cell</a>, applying a given function on them. It returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A Cell.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A function that receives a Neighborhood name as argument.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span> = <span class="function">CellularSpace</span>{
    <span class="id">xdim</span> = <span class="number">10</span>
}

<span class="id">cs</span>:<span class="id">createNeighborhood</span>()
<span class="id">cs</span>:<span class="id">createNeighborhood</span>{
    <span class="id">name</span> = <span class="string">"2"</span>
}

<span class="id">cell</span> = <span class="id">cs</span>:<span class="id">sample</span>()
<span class="function">forEachNeighborhood</span>(<span class="id">cell</span>, <span class="reserved">function</span>(<span class="id">idx</span>)
    <span class="id">print</span>(<span class="id">idx</span>)
    <span class="id">print</span>(#<span class="id">cell</span>:<span class="id">getNeighborhood</span>(<span class="id">idx</span>))
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachOrderedElement">

	</a><strong>forEachOrderedElement</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse a given object, applying a function to each of its elements according to their alphabetical order. It can be used for instance to transverse all the elements of an <a href=../files/Agent.html>Agent</a> or an <a href=../files/Environment.html>Environment</a>. This function executes first the positions with numeric names and then the string ones, with upper case characters having priority over lower case. This function returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A TerraME object or a table.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A user-defined function that takes three arguments: the name of the element, the element itself, and the type of the element. If some call to this function returns false then forEachElement() stops.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cell</span> = <span class="function">Cell</span>{
    <span class="id">value1</span> = <span class="number">10</span>,
    <span class="id">value2</span> = <span class="number">5</span>
}

<span class="function">forEachOrderedElement</span>(<span class="id">cell</span>, <span class="reserved">function</span>(<span class="id">idx</span>, <span class="id">_</span>, <span class="id">etype</span>)
    <span class="id">print</span>(<span class="id">idx</span>..<span class="string">"\t"</span>..<span class="id">etype</span>)
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="forEachSocialNetwork">

	</a><strong>forEachSocialNetwork</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Second order function to transverse all <a href=../files/SocialNetwork.html>SocialNetworks</a> of an <a href=../files/Agent.html>Agent</a>, applying a given function on them. It returns true if no call to the function taken as argument returns false, otherwise it returns false.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: An Agent.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A function that receives a SocialNetwork name as argument.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{<span class="id">value</span> = <span class="number">2</span>}
<span class="id">soc</span> = <span class="function">Society</span>{<span class="id">instance</span> = <span class="id">ag</span>, <span class="id">quantity</span> = <span class="number">20</span>}

<span class="id">soc</span>:<span class="id">createSocialNetwork</span>{<span class="id">quantity</span> = <span class="number">3</span>}
<span class="id">soc</span>:<span class="id">createSocialNetwork</span>{
    <span class="id">quantity</span> = <span class="number">5</span>,
    <span class="id">name</span> = <span class="string">"2"</span>
}

<span class="id">agent</span> = <span class="id">soc</span>:<span class="id">sample</span>()
<span class="function">forEachSocialNetwork</span>(<span class="id">agent</span>, <span class="reserved">function</span>(<span class="id">idx</span>)
    <span class="id">print</span>(<span class="id">idx</span>)
    <span class="id">print</span>(#<span class="id">agent</span>:<span class="id">getSocialNetwork</span>(<span class="id">idx</span>))
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getConfig">

	</a><strong>getConfig</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a table with the content of the file config.lua, stored in the current directory of the simulation. All the global variables of the file are elements of the returned table. Some packages require specific variables in this file in order to be tested or executed. TerraME execution options -imporDb and -exportDb also use this file. Additional calls to getConfig will return the same output of the first call even if the current directory changes along the simulation.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="function">getConfig</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getExtension">

	</a><strong>getExtension</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the extension of a given file name. It returns the substring after the last dot. If it does not have a dot, an empty string is returned.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the file name.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">getExtension</span>(<span class="string">"file.txt"</span>) <span class="comment">-- ".txt"</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getNames">

	</a><strong>getNames</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the names of a given object derived from a table. The output is a vector with the names as values alphabetically ordered.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: Any table or TerraME type that works as a table.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">t</span> = {
    <span class="id">cover</span> = <span class="string">"forest"</span>,
    <span class="id">area</span> = <span class="number">200</span>,
    <span class="id">water</span> = <span class="reserved">false</span>
}

<span class="function">getNames</span>(<span class="id">t</span>) <span class="comment">-- {"area", "cover", "water"}</span></code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#isTable">isTable	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getn">

	</a><strong>getn</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the number of elements of a table, be them named or not. It is a substitute for the old Lua function table.getn. It can also be used to compute the number of elements of any TerraME object, such as <a href=../files/Agent.html>Agent</a> or <a href=../files/Environment.html>Environment</a>.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A table.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">getn</span>{<span class="id">name</span> = <span class="string">"john"</span>, <span class="id">age</span> = <span class="number">20</span>}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="greaterByAttribute">

	</a><strong>greaterByAttribute</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a function that compares two tables (which can be, for instance, <a href=../files/Agent.html>Agents</a> or <a href=../files/Cell.html>Cells</a>). The function returns which one has a priority over the other, according to an attribute of the objects and a given operator. If the function was not successfully built it returns nil.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the name of the attribute.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the operator, which can be ">", "<", "<=", or ">=". The default value is "<".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span> = <span class="function">CellularSpace</span>{
    <span class="id">xdim</span> = <span class="number">10</span>,
    <span class="id">instance</span> = <span class="function">Cell</span>{<span class="id">cover</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">0</span>, <span class="id">max</span> = <span class="number">1</span>}}
}

<span class="id">t</span> = <span class="function">Trajectory</span>{
    <span class="id">target</span> = <span class="id">cs</span>,
    <span class="id">greater</span> = <span class="function">greaterByAttribute</span>(<span class="string">"cover"</span>)
}</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Group.html">Group	</a>
		
	</li>
	
	<li>
		

			<a href="../files/Trajectory.html">Trajectory	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="greaterByCoord">

	</a><strong>greaterByCoord</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a function that compares two tables with x and y attributes (basically two regular <a href=../files/Cell.html>Cells</a>). The function returns which one has a priority over the other, according to a given operator.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the operator, which can be ">", "<", "<=", or ">=". The default value is "<".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span> = <span class="function">CellularSpace</span>{
    <span class="id">xdim</span> = <span class="number">10</span>
}

<span class="id">t</span> = <span class="function">Trajectory</span>{
    <span class="id">target</span> = <span class="id">cs</span>,
    <span class="id">greater</span> = <span class="function">greaterByCoord</span>()
}</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Trajectory.html">Trajectory	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="integrate">

	</a><strong>integrate</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

A second order function to numerically solve ordinary differential equations with a given initial value.<br><br></span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>a</strong>: A number with the beginning of the interval.
    </li> 
    
  
    <li>
	  <strong>b</strong>: A number with the end of the interval.
    </li> 
    
  
    <li>
	  <strong>equation</strong>: A differential equation or a vector of differential equations. Each equation is described as a function of one or two arguments that returns a value of its derivative f(t, y), where t is the time instant, and y starts with the value of attribute initial and changes according to the result of f() and the chosen method. The calls to f will use the first argument (t) in the interval [a,b[, according to the argument step.
    </li> 
    
  
    <li>
	  <strong>event</strong>: An <a href=../files/Event.html>Event</a> that can be used to set arguments a and b with values event:getTime() - event:getPeriodicity() and event:getTime(), respectively. The period of the event must be a multiple of step. Note that the first execution of the event will compute the equation relative to a time interval between event.time - event.period and event.time. Be careful about that, as it can start before the initial Event of the simulation.
    </li> 
    
  
    <li>
	  <strong>initial</strong>: The initial condition, or a vector of initial conditions, which must be satisfied. Each initial condition represents the value of y when t (first argument of f) is equal to the value of argument a.
    </li> 
    
  
    <li>
	  <strong>method</strong>: the name of a numeric algorithm to solve the ordinary differential equations. See the options below.
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Method
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            "euler" (default)
            </td>
          
          
            <td>
            Euler integration method
            </td>
          
        
        <tr>
        
          
            <td>
            "heun"
            </td>
          
          
            <td>
            Heun (Second Order Euler)
            </td>
          
        
        <tr>
        
          
            <td>
            "rungekutta"
            </td>
          
          
            <td>
            Runge-Kutta Method (Fourth Order)
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>step</strong>: A positive number with the step within the interval. It must satisfy the condition that (b - a) is a multiple of step.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">v</span> = <span class="function">integrate</span>{
    <span class="id">equation</span> = <span class="reserved">function</span>(<span class="id">t</span>, <span class="id">y</span>)
        <span class="reserved">return</span> <span class="id">t</span> - <span class="number">0.1</span> * <span class="id">y</span>
    <span class="reserved">end</span>,
    <span class="id">initial</span> = <span class="number">0</span>,
    <span class="id">a</span> = <span class="number">0</span>,
    <span class="id">b</span> = <span class="number">100</span>,
    <span class="id">step</span> = <span class="number">0.1</span>
}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="integrationEuler">

	</a><strong>integrationEuler</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Implements the Euler (Euler-Cauchy) Method to integrate ordinary differential equations.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The differential equation.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: The initial condition that must be satisfied.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: The value of 'a' in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#4</strong>: The value of 'b' of in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#5</strong>: The step of the independent variable.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">f</span> = <span class="reserved">function</span>(<span class="id">x</span>) <span class="reserved">return</span> <span class="id">x</span>^<span class="number">3</span> <span class="reserved">end</span>
<span class="id">v</span> = <span class="function">integrationEuler</span>(<span class="id">f</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0.1</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="integrationHeun">

	</a><strong>integrationHeun</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Implements the Heun (Euler Second Order) Method to integrate ordinary differential equations. It is a method of type Predictor-Corrector.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The differential equation.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: The initial condition that must be satisfied.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: The value of 'a' in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#4</strong>: The value of 'b' of in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#5</strong>: The step of the independent variable.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">f</span> = <span class="reserved">function</span>(<span class="id">x</span>) <span class="reserved">return</span> <span class="id">x</span>^<span class="number">3</span> <span class="reserved">end</span>
<span class="id">v</span> = <span class="function">integrationHeun</span>(<span class="id">f</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0.1</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="integrationRungeKutta">

	</a><strong>integrationRungeKutta</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Implements the Runge-Kutta Method (Fourth Order) to integrate ordinary differential equations.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The differential equation.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: The initial condition that must be satisfied.
    </li> 
    
  
    <li>
	  <strong>#3</strong>: The value of 'a' in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#4</strong>: The value of 'b' of in the interval [a,b[.
    </li> 
    
  
    <li>
	  <strong>#5</strong>: The step of the independent variable.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">f</span> = <span class="reserved">function</span>(<span class="id">x</span>) <span class="reserved">return</span> <span class="id">x</span>^<span class="number">3</span> <span class="reserved">end</span>
<span class="id">v</span> = <span class="function">integrationRungeKutta</span>(<span class="id">f</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0.1</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="isModel">

	</a><strong>isModel</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether a given value is a <a href=../files/Model.html>Model</a> or an instance of a Model.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A value.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(<span class="function">isModel</span>(<span class="number">2</span>)) <span class="comment">-- false</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="isTable">

	</a><strong>isTable</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether an object can be used as a table. This includes tables themselves as well as all TerraME types (<a href=../files/Cell.html>Cell</a>, <a href=../files/CellularSpace.html>CellularSpace</a>, etc.).<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A value of any type.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">c</span> = <span class="function">Cell</span>{}
<span class="id">print</span>(<span class="function">isTable</span>(<span class="id">c</span>))</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#type">type	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="levenshtein">

	</a><strong>levenshtein</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the Levenshtein's distance between two strings. See <a href="http://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank">http://en.wikipedia.org/wiki/Levenshtein_distance</a> for more details.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: Another string.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">levenshtein</span>(<span class="string">"abc"</span>, <span class="string">"abb"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="makeDataTable">

	</a><strong>makeDataTable</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create a table with indexes according to a given configuration. It returns a table with a set of vectors indexed by values defined in the arguments.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>first</strong>: A number with the first index.
    </li> 
    
  
    <li>
	  <strong>last</strong>: A number with the last index. This argument is optional and only used to check whether it is equals to first plus step times the size of the data vectors.
    </li> 
    
  
    <li>
	  <strong>step</strong>: A number with the interval between two indexes.
    </li> 
    
  
    <li>
	  <strong>...</strong>: Data vectors with the values to be indexed.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">tab</span> = <span class="function">makeDataTable</span>{
    <span class="id">first</span> = <span class="number">2000</span>,
    <span class="id">step</span> = <span class="number">10</span>,
    <span class="id">demand</span> = {<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>},
    <span class="id">limit</span> = {<span class="number">0.1</span>, <span class="number">0.04</span>, <span class="number">0.3</span>, <span class="number">0.07</span>}
}

<span class="id">print</span>(<span class="id">tab</span>.<span class="id">demand</span>[<span class="number">2010</span>]) <span class="comment">-- 8</span>
<span class="id">print</span>(<span class="id">tab</span>.<span class="id">limit</span>[<span class="number">2030</span>]) <span class="comment">-- 0.07</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="openFile">

	</a><strong>openFile</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Open a file for reading or writing. An opened file must be closed after being used.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: Name of the file to be opened. It might contain the path to the file as well.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the mode. It can be "w" for writing or "r" for reading.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">file</span> = <span class="function">openFile</span>(<span class="string">"myfile.txt"</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#closeFile">closeFile	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="round">

	</a><strong>round</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Round a number given a precision.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: The number of decimal places to be used. The default value is zero.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">round</span>(<span class="number">2.34566</span>, <span class="number">3</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="sessionInfo">

	</a><strong>sessionInfo</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return information about the current execution. The result is a table with the following values.<br><br></span>


	 
			<table class="arg_tab">
			
				<tr>
					
							<th>
							Attribute
							</th>
						
							<th>
							Description
							</th>
						
				<tr>
					
							<td>
							dbVersion
							</td>
						
							<td>
							A string with the current TerraLib version for databases.
							</td>
						
				<tr>
					
							<td>
							mode
							</td>
						
							<td>
							A string with the current mode for warnings ("normal", "debug", or "quiet").
							</td>
						
				<tr>
					
							<td>
							path
							</td>
						
							<td>
							A string with the location of TerraME in the computer.
							</td>
						
				<tr>
					
							<td>
							separator
							</td>
						
							<td>
							A string with the directory separator.
							</td>
						
				<tr>
					
							<td>
							silent
							</td>
						
							<td>
							A boolean value indicating whether print() calls should not be shown in the screen. This element is true when TerraME is executed with mode "silent".
							</td>
						
				</tr>    
			</table>
		








<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(<span class="function">sessionInfo</span>().<span class="id">mode</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="string.endswith">

	</a><strong>string.endswith</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether a string ends with a given substring (no case sensitive).<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A substring describing the end of #1.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">string</span>.<span class="id">endswith</span>(<span class="string">"abcdef"</span>, <span class="string">"def"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="switch">

	</a><strong>switch</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Implement a switch case function, where functions are associated to the available options. This function returns a table that contains a function called caseof, that gets a named table with functions describing what to do for each case (which is the name for the respective function). This table can have a field "missing" that is used when the first argument does not have an attribute whose name is the value of the second argument. The error messages of this function come from <a href=../files/ErrorHandling.html#switchInvalidArgumentMsg>switchInvalidArgumentMsg()</a> and <a href=../files/ErrorHandling.html#switchInvalidArgumentSuggestionMsg>switchInvalidArgumentSuggestionMsg()</a>.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A named table.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the chosen attribute of the named table.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">data</span> = {<span class="id">protocol</span> = <span class="string">"udp"</span>}

<span class="function">switch</span>(<span class="id">data</span>, <span class="string">"protocol"</span>):<span class="id">caseof</span>{
    <span class="id">tcp</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"tcp"</span>) <span class="reserved">end</span>,
    <span class="id">udp</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"udp"</span>) <span class="reserved">end</span>
}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="toLabel">

	</a><strong>toLabel</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Convert a string into a more readable name. It is useful to work with <a href=../files/Model.html#init>Model:init()</a> when the model will be available through a graphical interface. In graphical interfaces, if the string contains underscores, it replaces them by spaces and convert the next characters to uppercase. Otherwise, it adds a space before each uppercase character. It also converts the first character of the string to uppercase.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the parameter name.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the name of the table the parameter belongs to. This parameter is optional.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">toLabel</span>(<span class="string">"maxValue"</span>) <span class="comment">--  'Max Value' (with graphical interface) or 'maxValue' (without)</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="type">

	</a><strong>type</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the type of an object. It extends the original Lua type() to support TerraME objects, whose type name (for instance "<a href=../files/CellularSpace.html>CellularSpace</a>" or "<a href=../files/Agent.html>Agent</a>") is returned instead of "table".<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: Any object or value.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">c</span> = <span class="function">Cell</span>{<span class="id">value</span> = <span class="number">3</span>}
<span class="id">print</span>(<span class="function">type</span>(<span class="id">c</span>)) <span class="comment">-- "Cell"</span></code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Utils.html#isTable">isTable	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="vardump">

	</a><strong>vardump</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Function that returns a string describing the internal content of an object. It converts a table into a string that represents a Lua code that declares such table.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The object to be converted into a string.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string to be placed in the beginning of each line of the returning string.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">vardump</span>{<span class="id">name</span> = <span class="string">"john"</span>, <span class="id">age</span> = <span class="number">20</span>}
<span class="comment">-- {</span>
<span class="comment">--     age = 20, </span>
<span class="comment">--     name = "john"</span>
<span class="comment">-- }</span></code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

