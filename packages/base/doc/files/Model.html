<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Event.html">Event</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/LogFile.html">LogFile</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li><strong>Model</strong></li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li>
						<a href="../files/Society.html">Society</a>
					</li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/FileSystem.html">FileSystem</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Utils.html">Utils</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Model
					
					
					</h1>

					
						<span class="description"></span>
					
					
					
					

					
						
						<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">



<span class="description">

Type that defines a model. The user can use Model to describe the arguments of a model and how it can be built. The returning value of a Model is an object that can be used directly to simulate (as long as it does not have any <a href=../files/Mandatory.html>Mandatory</a> parameter) or used to create as many instances as needed to simulate the Model with different parameters. A tutorial about Models in TerraME is available at <a href="http://github.com/pedro-andrade-inpe/terrame/wiki/Models" target="_blank">http://github.com/pedro-andrade-inpe/terrame/wiki/Models</a>.</span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>execute</strong>: An optional function to define the changes of the Model in each time step. it the Model does not have a <a href=../files/Timer.html>Timer</a> after <a href=../files/Model.html#init>init()</a> but it has this function, a Timer will be automatically created and will add an <a href=../files/Event.html>Event</a> with the Model as its action.
    </li> 
    
  
    <li>
	  <strong>finalTime</strong>: A number with the final time of the simulation. If the Model does not have this as argument, it must be defined within function <a href=../files/Model.html#init>init()</a>.
    </li> 
    
  
    <li>
	  <strong>init</strong>: A mandatory function to describe how an instance of Model is created.
    </li> 
    
  
    <li>
	  <strong>interface.</strong>: An optional function to describe how the graphical interface is displayed. See <a href=../files/Model.html#interface>interface()</a>. See <a href=../files/Model.html#init>init()</a>. If the Model does not have argument finalTime, this function should create the attribute finalTime to allow the Model instance to be run.
    </li> 
    
  
    <li>
	  <strong>seed</strong>: A number with the initial seed for <a href=../files/Random.html>Random</a>. This argument is optional.
    </li> 
    
  
    <li>
	  <strong>...</strong>: Arguments of the Model. The values of each argument have an associated semantic. See the table below:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Attribute type
            </th>
          
          
            <th>
            Description
            </th>
          
          
            <th>
            Default value
            </th>
          
        
        <tr>
        
          
            <td>
            number or bool
            </td>
          
          
            <td>
            The instance has to belong to such type.
            </td>
          
          
            <td>
            The value itself.
            </td>
          
        
        <tr>
        
          
            <td>
            string
            </td>
          
          
            <td>
            The instance has to be a string. If it is in the format "*.a;*.b;...", it describes a file extension. The modeler then has to use a filename as argument with one of the extensions defined by this string.
            </td>
          
          
            <td>
            The value itself.
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Choice.html>Choice</a>
            </td>
          
          
            <td>
            The instance must have a value that belongs to the Choice.
            </td>
          
          
            <td>
            The default value of the Choice.
            </td>
          
        
        <tr>
        
          
            <td>
            Mandatory
            </td>
          
          
            <td>
            A mandatory argument, which means that the use must use a value witht the type defined in the Mandatory to build the model instance correctly. If Mandatory is "table", then the model instance must have all its elements belonging to the same type.
            </td>
          
          
            <td>
            No default value.
            </td>
          
        
        <tr>
        
          
            <td>
            named table
            </td>
          
          
            <td>
            It will verify each attribute according to the rules above.
            </td>
          
          
            <td>
            The table itself. It is possible to define only part of the table in the instance, keeping the other default values.
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
  </span></ul>



<!-- Outputs of the function -->
  <h3>Attributes</h3>
Some attributes of Model have internal semantics. They can be used as <b>read-only</b> by the modeler.</p>
<ul>
<span class="output">
	
	<li>
	  <strong>parent</strong>: The Model used to create the object. This object only exists in the Model instance, but not in the Model itself.
	</li>
	
</span>
</ul>





<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">initialWater</span> = <span class="number">20</span>,
    <span class="id">flow</span> = <span class="number">1</span>,
    <span class="id">finalTime</span> = <span class="number">20</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">initialWater</span>

        <span class="id">model</span>.<span class="id">chart</span> = <span class="function">Chart</span>{<span class="id">target</span> = <span class="id">model</span>, <span class="id">select</span> = <span class="string">"water"</span>}

        <span class="id">model</span>:<span class="id">notify</span>()
        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>()
                <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">water</span> - <span class="id">model</span>.<span class="id">flow</span>
             <span class="reserved">end</span>},
            <span class="function">Event</span>{<span class="id">action</span> = <span class="id">model</span>.<span class="id">chart</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">print</span>(<span class="id">type</span>(<span class="id">Tube</span>)) <span class="comment">-- "Model"</span>
<span class="id">Tube</span>:<span class="id">run</span>() <span class="comment">-- One can run a Model directly...</span>

<span class="id">MyTube</span> = <span class="id">Tube</span>{<span class="id">initialWater</span> = <span class="number">50</span>} <span class="comment">-- ... or create instances using it</span>
<span class="id">print</span>(<span class="id">type</span>(<span class="id">MyTube</span>)) <span class="comment">-- "Tube"</span>
<span class="id">print</span>(<span class="id">MyTube</span>:<span class="id">title</span>()) <span class="comment">-- "Initial Water = 50"</span>
<span class="id">MyTube</span>:<span class="id">run</span>()

<span class="id">pcall</span>(<span class="reserved">function</span>() <span class="id">MyTube2</span> = <span class="id">Tube</span>{<span class="id">initialwater</span> = <span class="number">100</span>} <span class="reserved">end</span>)
<span class="comment">-- Warning: Argument 'initialwater' is unnecessary. Do you mean 'initialWater'?</span>
<span class="comment">-- (when executing TerraME with mode=strict)</span>

<span class="id">_</span>, <span class="id">err</span> = <span class="id">pcall</span>(<span class="reserved">function</span>() <span class="id">MyTube2</span> = <span class="id">Tube</span>{<span class="id">flow</span> = <span class="reserved">false</span>} <span class="reserved">end</span>)
<span class="id">print</span>(<span class="id">err</span>)
<span class="comment">-- Error: Incompatible types. Argument 'flow' expected number, got boolean.</span></code></pre>




</dd>


						
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#configure">configure</a>&nbsp;
<td class="summary">Function to show a graphical interface to configure the parameters of a given Model.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#execute">execute</a>&nbsp;
<td class="summary">User-defined function to execute the Model in a given time step.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getParameters">getParameters</a>&nbsp;
<td class="summary">Return the parameters of the Model as they were defined.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#init">init</a>&nbsp;
<td class="summary">User-defined function to create the objects of the Model.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#interface">interface</a>&nbsp;
<td class="summary">User-defined function to define the distribution of components in the graphical interface.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
<td class="summary">Notify the Observers of the Model instance.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#run">run</a>&nbsp;
<td class="summary">Run the Model instance.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#title">title</a>&nbsp;
<td class="summary">Return a title for the Model instance according to its parameters.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="configure">

	</a><strong>configure</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Function to show a graphical interface to configure the parameters of a given Model. This function can be used in scripts that implement a Model. If the Model belongs to a package, then it should not be called, as TerraME will do it automatically when one selects the Model to be configured.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">initialWater</span> = <span class="number">20</span>,
    <span class="id">flow</span> = <span class="number">1</span>,
    <span class="id">finalTime</span> = <span class="number">20</span>,
    <span class="id">execute</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">water</span> - <span class="id">model</span>.<span class="id">flow</span>
    <span class="reserved">end</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">initialWater</span>

        <span class="id">model</span>.<span class="id">chart</span> = <span class="function">Chart</span>{<span class="id">target</span> = <span class="id">model</span>, <span class="id">select</span> = <span class="string">"water"</span>}

        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="id">model</span>},
            <span class="function">Event</span>{<span class="id">action</span> = <span class="id">model</span>.<span class="id">chart</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">Tube</span>:<span class="function">configure</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="execute">

	</a><strong>execute</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

User-defined function to execute the Model in a given time step. It is useful when using the Model as an action for a given <a href=../files/Event.html>Event</a>.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">water</span> = <span class="number">20</span>,
    <span class="id">flow</span> = <span class="number">1</span>,
    <span class="id">finalTime</span> = <span class="number">20</span>,
    <span class="function">execute</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">water</span> - <span class="id">model</span>.<span class="id">flow</span>
    <span class="reserved">end</span>,
    <span class="id">init</span> = <span class="reserved">function</span> (<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">chart</span> = <span class="function">Chart</span>{
            <span class="id">target</span> = <span class="id">model</span>,
            <span class="id">select</span> = <span class="string">"water"</span>
        }
    <span class="reserved">end</span>
}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getParameters">

	</a><strong>getParameters</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the parameters of the Model as they were defined. The result must not be changed, otherwise it might affect the Model itself.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">model</span> = <span class="function">Model</span>{
    <span class="id">par1</span> = <span class="number">3</span>,
    <span class="id">par2</span> = <span class="function">Choice</span>{<span class="string">"low"</span>, <span class="string">"medium"</span>, <span class="string">"high"</span>},
    <span class="id">par3</span> = {<span class="id">min</span> = <span class="number">3</span>, <span class="id">max</span> = <span class="number">5</span>},
    <span class="id">finalTime</span> = <span class="number">20</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>()
                <span class="comment">-- ...</span>
            <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">params</span> = <span class="id">model</span>:<span class="function">getParameters</span>()
<span class="id">print</span>(<span class="id">params</span>.<span class="id">par1</span>)
<span class="id">print</span>(<span class="id">type</span>(<span class="id">params</span>.<span class="id">par2</span>))
<span class="id">print</span>(<span class="id">params</span>.<span class="id">init</span>) <span class="comment">-- nil</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="init">

	</a><strong>init</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

User-defined function to create the objects of the Model. It is recommended that all the created objects should be placed in the model instance itself, to guarantee the content of the Model into a single object. It is also possible to verify whether the model has correct arguments. The internal verification of Model ensures that the type of the arguments is valid, acording to the definition of the Model. See <a href=../files/Utils.html#toLabel>toLabel()</a>, for using names of arguments in error messages when building a Model to work with graphical interfaces. This function is executed automatically when one instantiates a given Model.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">initialWater</span> = <span class="number">200</span>,
    <span class="id">flow</span> = <span class="number">20</span>,
    <span class="function">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">verify</span>(<span class="id">model</span>.<span class="id">flow</span> < <span class="id">model</span>.<span class="id">initialWater</span>, <span class="id">toLabel</span>(<span class="string">"flow"</span>)..<span class="string">" should be less than "</span>..<span class="id">toLabel</span>(<span class="string">"initialWater"</span>)..<span class="string">"."</span>)
        <span class="id">model</span>.<span class="id">finalTime</span> = <span class="number">10</span>
        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>()
                <span class="comment">-- ...</span>
            <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">m</span> = <span class="id">Tube</span>{<span class="id">initialWater</span> = <span class="number">100</span>, <span class="id">flow</span> = <span class="number">10</span>}
<span class="id">print</span>(<span class="id">m</span>.<span class="id">finalTime</span>) <span class="comment">-- 10</span></code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/ErrorHandling.html#customError">customError (ErrorHandling)	</a>
		
	</li>
	
	<li>
		

			<a href="../files/ErrorHandling.html#verify">verify (ErrorHandling)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="interface">

	</a><strong>interface</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

User-defined function to define the distribution of components in the graphical interface. If this function is not implemented in the Model, the components will be distributed automatically. This function should return a table with tables composed by strings. Each position of the table describes a column of components in the interface. In the example below, the first column of the graphical interface will show the string argument in the top ("mapFile") and the three arguments of "agents" in the bottom of the first column. The second column will contain the arguments of "block" in the top and the boolean argument ("showGraphics") in the bottom. The elements that do not belong to the table will not be shown in the graphical interface (in the example, "season"). Note that all Compulsory arguments must belong to the graphical interface to allow instantiate Model instances properly.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Sugarscape</span> = <span class="function">Model</span>{
    <span class="id">mapFile</span>        = <span class="string">"sugar-map.csv"</span>,
    <span class="id">showGraphics</span>   = <span class="reserved">true</span>,
    <span class="id">agents</span> = {
        <span class="id">quantity</span>   = <span class="number">10</span>,
        <span class="id">wealth</span>     = <span class="function">Choice</span>{<span class="id">min</span> = <span class="number">5</span>, <span class="id">max</span> = <span class="number">25</span>},
        <span class="id">metabolism</span> = <span class="function">Choice</span>{<span class="id">min</span> = <span class="number">1</span>, <span class="id">max</span> = <span class="number">4</span>}
    },
    <span class="id">block</span> = {
        <span class="id">xmin</span>       = <span class="number">0</span>,
        <span class="id">xmax</span>       = <span class="id">math</span>.<span class="id">huge</span>,
        <span class="id">ymin</span>       = <span class="number">0</span>,
        <span class="id">ymax</span>       = <span class="id">math</span>.<span class="id">huge</span>
    },
    <span class="id">season</span> = {
        <span class="id">summerGrowthRate</span> = <span class="number">1</span>,
        <span class="id">winterGrowthRate</span> = <span class="number">0.125</span>
    },
    <span class="function">interface</span> = <span class="reserved">function</span>()
        <span class="reserved">return</span> {
            {<span class="string">"string"</span>, <span class="string">"agents"</span>},
            {<span class="string">"block"</span>, <span class="string">"boolean"</span>}
        }
    <span class="reserved">end</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">Sugarscape</span>:<span class="id">configure</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="notify">

	</a><strong>notify</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Notify the Observers of the Model instance.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number representing the notification time. The default value is zero. It is also possible to use an <a href=../files/Event.html>Event</a> as argument. In this case, it will use the result of <a href=../files/Event.html#getTime>Event:getTime()</a>.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">water</span> = <span class="number">200</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">finalTime</span> = <span class="number">100</span>

        <span class="function">Chart</span>{
            <span class="id">target</span> = <span class="id">model</span>,
            <span class="id">select</span> = <span class="string">"water"</span>
        }

        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>(<span class="id">ev</span>)
                <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">water</span> - <span class="number">1</span>
                <span class="id">model</span>:<span class="function">notify</span>(<span class="id">ev</span>)
            <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">scenario1</span> = <span class="id">Tube</span>{<span class="id">water</span> = <span class="number">100</span>}

<span class="id">scenario1</span>:<span class="id">run</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="run">

	</a><strong>run</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Run the Model instance. It requires that the Model instance has attribute finalTime.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">initialWater</span> = <span class="number">200</span>,
    <span class="id">flow</span> = <span class="number">20</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">finalTime</span> = <span class="number">10</span>

        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>()
                <span class="comment">-- ...</span>
            <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">m</span> = <span class="id">Tube</span>{<span class="id">initialWater</span> = <span class="number">100</span>, <span class="id">flow</span> = <span class="number">10</span>}

<span class="id">m</span>:<span class="function">run</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="title">

	</a><strong>title</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a title for the Model instance according to its parameters. It uses only the parameters that are different from the default values. If the Model was instantiated without any parameter, its title will be "default".<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">Tube</span> = <span class="function">Model</span>{
    <span class="id">water</span> = <span class="number">200</span>,
    <span class="id">init</span> = <span class="reserved">function</span>(<span class="id">model</span>)
        <span class="id">model</span>.<span class="id">finalTime</span> = <span class="number">100</span>

        <span class="function">Chart</span>{
            <span class="id">target</span> = <span class="id">model</span>,
            <span class="id">select</span> = <span class="string">"water"</span>
        }

        <span class="id">model</span>.<span class="id">timer</span> = <span class="function">Timer</span>{
            <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>(<span class="id">ev</span>)
                <span class="id">model</span>.<span class="id">water</span> = <span class="id">model</span>.<span class="id">water</span> - <span class="number">1</span>
                <span class="id">model</span>:<span class="id">notify</span>(<span class="id">ev</span>)
            <span class="reserved">end</span>}
        }
    <span class="reserved">end</span>
}

<span class="id">scenario1</span> = <span class="id">Tube</span>{<span class="id">water</span> = <span class="number">100</span>}
<span class="id">print</span>(<span class="id">scenario1</span>:<span class="function">title</span>()) <span class="comment">-- "water = 100"</span></code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

