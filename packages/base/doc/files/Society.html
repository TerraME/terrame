<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Event.html">Event</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/LogFile.html">LogFile</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li>
						<a href="../files/Model.html">Model</a>
					</li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li><strong>Society</strong></li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/FileSystem.html">FileSystem</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Utils.html">Utils</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Society
					
					
					</h1>

					
						<span class="description"></span>
					
					
					
					

					
						
						<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">



<span class="description">

Type to create and manipulate a set of <a href=../files/Agent.html>Agents</a>. Each Agent within a Society has a unique id, which is initialized while creating the Society. There are different ways to create a Society. See the argument source for the options. Calling <a href=../files/Utils.html#forEachAgent>forEachAgent()</a> traverses Societies.</span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>file</strong>: Name of the file.
    </li> 
    
  
    <li>
	  <strong>host</strong>: Host where the database is stored (default is "localhost").
    </li> 
    
  
    <li>
	  <strong>id</strong>: The unique identifier attribute used when reading the Society from a file.
    </li> 
    
  
    <li>
	  <strong>instance</strong>: An Agent with the description of attributes and functions. When using this argument, each Agent of the Society will have attributes and functions according to the instance. The attributes of the instance will be copyed to the Agent and Society calls <a href=../files/Agent.html#init>Agent:init()</a> for each of its Agents. Every attribute from the Agent that is a <a href=../files/Random.html>Random</a> will be converted into a <a href=../files/Random.html#sample>Random:sample()</a>. When using this argument, additional functions are also created to the Society. For each attribute of the its Agents (after calling <a href=../files/Agent.html#init>Agent:init()</a>), one function is created in the Society with the same name. The table below describes how each attribute is mapped from the Agent to the Society:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Type of attribute
            </th>
          
          
            <th>
            Function within the Society
            </th>
          
        
        <tr>
        
          
            <td>
            function
            </td>
          
          
            <td>
            Call the function of each of its Agents.
            </td>
          
        
        <tr>
        
          
            <td>
            number
            </td>
          
          
            <td>
            Return the sum of the number in each of its Agents.
            </td>
          
        
        <tr>
        
          
            <td>
            boolean
            </td>
          
          
            <td>
            Return the quantity of true values in its Agents.
            </td>
          
        
        <tr>
        
          
            <td>
            string
            </td>
          
          
            <td>
            Return a table with positions equal to the unique strings and values equal to the number of occurrences in each of its Agents.
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>layer</strong>: Name of the layer the theme was created from. It must be used to solve a conflict when there are two themes with the same name (default is "").
    </li> 
    
  
    <li>
	  <strong>quantity</strong>: Number of Agents to be created. It is used when the Society will not be loaded from a file or database.
    </li> 
    
  
    <li>
	  <strong>sep</strong>: A string with the file separator for reading a CSV (default is ",").
    </li> 
    
  
    <li>
	  <strong>source</strong>: A string with the name of the source the Society will be read from. TerraME always converts this string to lower case. See the table below:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            source
            </th>
          
          
            <th>
            Description
            </th>
          
          
            <th>
            Compulsory arguments
            </th>
          
          
            <th>
            Optional arguments
            </th>
          
        
        <tr>
        
          
            <td>
            "volatile"
            </td>
          
          
            <td>
            Create agents from scratch. This is the default value when using the argument quantity.
            </td>
          
          
            <td>
            instance, quantity
            </td>
          
          
            <td>
            ...
            </td>
          
        
        <tr>
        
          
            <td>
            "database"
            </td>
          
          
            <td>
            Load agents from a database. This is the default value when using the argument theme.
            </td>
          
          
            <td>
            database, instance, theme
            </td>
          
          
            <td>
            host, layer, password, port, select, user, where, ...
            </td>
          
        
        <tr>
        
          
            <td>
            "csv"
            </td>
          
          
            <td>
            Load agents from a csv file. This is the default value when value of argument database ends with ".csv".
            </td>
          
          
            <td>
            database, id, instance
            </td>
          
          
            <td>
            sep, ...
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>...</strong>: Any other attribute or function for the Society.
    </li> 
    
  
  </span></ul>



<!-- Outputs of the function -->
  <h3>Attributes</h3>
Some attributes of Society have internal semantics. They can be used as <b>read-only</b> by the modeler.</p>
<ul>
<span class="output">
	
	<li>
	  <strong>agents</strong>: A vector of Agents pointed by the Society.
	</li>
	
	<li>
	  <strong>autoincrement</strong>: unique identifier used to represent the last Agent added to the Society. The next Agent will have 'autoincrement + 1' as id.
	</li>
	
	<li>
	  <strong>cObj_</strong>: A pointer to a C++ representation of the Society. Never use this object.
	</li>
	
	<li>
	  <strong>instance</strong>: The Agent that describes attributes and functions of each Agent belonging to the Society. This Agent must not be executed.
	</li>
	
	<li>
	  <strong>messages</strong>: A vector that contains the delayed messages.
	</li>
	
	<li>
	  <strong>parent</strong>: The <a href=../files/Environment.html>Environment</a> it belongs.
	</li>
	
	<li>
	  <strong>placements</strong>: A vector with the names of the placements created using this object (see <a href=../files/Environment.html#createPlacement>Environment:createPlacement()</a>).
	</li>
	
</span>
</ul>





<h3>Usage</h3>
<pre class="example"><code><span class="id">instance</span> = <span class="function">Agent</span>{
    <span class="id">execute</span> = <span class="reserved">function</span>() <span class="reserved">end</span>,
    <span class="id">run</span> = <span class="reserved">function</span>() <span class="reserved">end</span>,
    <span class="id">age</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">1</span>, <span class="id">max</span> = <span class="number">50</span>, <span class="id">step</span> = <span class="number">1</span>}
}

<span class="id">s</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">instance</span>,
    <span class="id">quantity</span> = <span class="number">20</span>
}

<span class="id">s</span>:<span class="id">execute</span>() <span class="comment">-- call execute for each agent</span>
<span class="id">s</span>:<span class="id">run</span>() <span class="comment">-- call run for each agent</span>
<span class="id">print</span>(<span class="id">s</span>:<span class="id">age</span>()) <span class="comment">-- sum of the ages of each agent</span>
<span class="id">print</span>(#<span class="id">s</span>)

<span class="id">instance</span> = <span class="function">Agent</span>{
    <span class="id">execute</span> = <span class="reserved">function</span>() <span class="reserved">end</span>
}

<span class="id">s</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">instance</span>,
    <span class="id">file</span> = <span class="id">filePath</span>(<span class="string">"agents.csv"</span>, <span class="string">"base"</span>)
}

<span class="id">print</span>(#<span class="id">s</span>)</code></pre>




</dd>


						
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#add">add</a>&nbsp;
<td class="summary">Add a new <a href=files/Agent.html>Agent</a> to the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#clear">clear</a>&nbsp;
<td class="summary">Remove all the <a href=files/Agent.html>Agents</a> from the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#createSocialNetwork">createSocialNetwork</a>&nbsp;
<td class="summary">Create a directed <a href=files/SocialNetwork.html>SocialNetwork</a> for each <a href=files/Agent.html>Agent</a> of the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#get">get</a>&nbsp;
<td class="summary">Return a given <a href=files/Agent.html>Agent</a> based on its position.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getAgent">getAgent</a>
										<i><font color="gray"> (deprecated)</font></i>&nbsp;
<td class="summary">Return a given <a href=files/Agent.html>Agent</a> based on its position.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getAgents">getAgents</a>
										<i><font color="gray"> (deprecated)</font></i>&nbsp;
<td class="summary">Return a vector with the <a href=files/Agent.html>Agents</a> of the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
<td class="summary">Notify all the <a href=files/Agent.html>Agents</a> of the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#remove">remove</a>&nbsp;
<td class="summary">Remove a given <a href=files/Agent.html>Agent</a> from the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#sample">sample</a>&nbsp;
<td class="summary">Return a random <a href=files/Agent.html>Agent</a> from the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#size">size</a>
										<i><font color="gray"> (deprecated)</font></i>&nbsp;
<td class="summary">Return the number of <a href=files/Agent.html>Agents</a> in the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#split">split</a>&nbsp;
<td class="summary">Split the Society into a set of <a href=files/Group.html>Groups</a> according to a classification strategy.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#synchronize">synchronize</a>&nbsp;
<td class="summary">Deliver asynchronous messages sent by <a href=files/Agent.html>Agents</a> belonging to the Society.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="##">#</a>&nbsp;
<td class="summary">Return the number of <a href=files/Agent.html>Agents</a> in the Society.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="add">

	</a><strong>add</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Add a new <a href=../files/Agent.html>Agent</a> to the Society. It will be the last Agent of the Society when one uses <a href=../files/Utils.html#forEachAgent>forEachAgent()</a>.</span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The new Agent that will be added to the Society. If nil, the Society will add a copy of its instance. In this case, the Society converts <a href=../files/Random.html>Random</a> values into samples and executes <a href=../files/Agent.html#init>Agent:init()</a>.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{
    <span class="id">age</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">1</span>, <span class="id">max</span> = <span class="number">50</span>, <span class="id">step</span> = <span class="number">1</span>}
}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">soc</span>:<span class="function">add</span>()
<span class="id">print</span>(#<span class="id">soc</span>)
<span class="id">agent</span> = <span class="id">soc</span>:<span class="function">add</span>()
<span class="id">print</span>(<span class="id">agent</span>.<span class="id">age</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/Agent.html#init">init (Agent)	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="clear">

	</a><strong>clear</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove all the <a href=../files/Agent.html>Agents</a> from the Society.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">print</span>(#<span class="id">soc</span>)
<span class="id">soc</span>:<span class="function">clear</span>()
<span class="id">print</span>(#<span class="id">soc</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="createSocialNetwork">

	</a><strong>createSocialNetwork</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create a directed <a href=../files/SocialNetwork.html>SocialNetwork</a> for each <a href=../files/Agent.html>Agent</a> of the Society.<br><br></span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>filter</strong>: A function (Agent, Agent)->boolean that returns true if the first Agent will have the second Agent in its SocialNetwork. When using this argument, the default value of strategy becomes "function".
    </li> 
    
  
    <li>
	  <strong>inmemory</strong>: If true (default), a SocialNetwork will be built and stored for each Agent of the Society. The SocialNetworks will change only if the modeler add or remove connections explicitly. If false, a SocialNetwork will be computed every time the simulation calls <a href=../files/Agent.html#getSocialNetwork>Agent:getSocialNetwork()</a>, for example when using <a href=../files/Utils.html#forEachConnection>forEachConnection()</a>. In this case, if any of the attributes the SocialNetwork is based on changes then the resulting SocialNetwork might be different. For instance, if the SocialNetwork of an Agent is based on its <a href=../files/Neighborhood.html>Neighborhood</a> and the Agent walks to another <a href=../files/Cell.html>Cell</a>, a SocialNetwork not inmemory will also be updated. SocialNetworks not inmemory also help the simulation to run with larger datasets, as they are not explicitly represented, but they consume more time as they need to be built again and again along the simulation. Note that not inmemory relations cannot be changed manually (for example by using <a href=../files/SocialNetwork.html#add>SocialNetwork:add()</a>), because the relation is recomputed every time it is needed.
    </li> 
    
  
    <li>
	  <strong>name</strong>: Name of the relation.
    </li> 
    
  
    <li>
	  <strong>neighborhood</strong>: A string with the name of the Neighborhood that will be used to create the SocialNetwork. The default value is "1".
    </li> 
    
  
    <li>
	  <strong>placement</strong>: A string with the name of the placement that will be used to create the SocialNetwork. The default value is "placement".
    </li> 
    
  
    <li>
	  <strong>probability</strong>: A number between 0 and 1 indicating a probability. The semantics associated to the probability depends on the argument strategy. When using this argument, the default value of strategy becomes "probability".
    </li> 
    
  
    <li>
	  <strong>quantity</strong>: A number indicating a quantity of connections. The semantics associated to this value depends on the argument strategy. When using this argument, the default value of strategy becomes "quantity".
    </li> 
    
  
    <li>
	  <strong>self</strong>: A boolean value indicating whether the Agent can be connected to itself. The default value is false.
    </li> 
    
  
    <li>
	  <strong>start</strong>: The number of agents without any connection in the initial group. New agents are connected to agents in this group and then added to the group. This argument is useful only for "barabasi" strategy.
    </li> 
    
  
    <li>
	  <strong>strategy</strong>: A string with the strategy to be used for creating the SocialNetwork. See the table below.
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Strategy
            </th>
          
          
            <th>
            Description
            </th>
          
          
            <th>
            Compulsory arguments
            </th>
          
          
            <th>
            Optional arguments
            </th>
          
        
        <tr>
        
          
            <td>
            "barabasi"
            </td>
          
          
            <td>
            Create a SocialNetwork according to the strategy proposed by Barabasi and Albert "Emergence of scaling in random networks" Science 286 509-512 (1999).
            </td>
          
          
            <td>
            quantity, start, strategy
            </td>
          
          
            <td>
            name
            </td>
          
        
        <tr>
        
          
            <td>
            "cell"
            </td>
          
          
            <td>
            Create a dynamic SocialNetwork for each Agent of the Society with every Agent within the same Cell the Agent belongs.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            inmemory, name, placement, self
            </td>
          
        
        <tr>
        
          
            <td>
            "erdos"
            </td>
          
          
            <td>
            Create a SocialNetwork with a given number of random connections. This strategy implements the algorithm proposed by Erdos and Renyi (1959) "On random graphs I". Publicationes Mathematicae 6: 290-297
            </td>
          
          
            <td>
            quantity, strategy
            </td>
          
          
            <td>
            name
            </td>
          
        
        <tr>
        
          
            <td>
            "function"
            </td>
          
          
            <td>
            Create a SocialNetwork according to a filter function applied to each Agent of the Society.
            </td>
          
          
            <td>
            filter
            </td>
          
          
            <td>
            inmemory, name
            </td>
          
        
        <tr>
        
          
            <td>
            "neighbor"
            </td>
          
          
            <td>
            Create a dynamic SocialNetwork for each Agent of the Society with every Agent within the neighbor Cells of the one the Agent belongs.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            inmemory, name, neighborhood, placement
            </td>
          
        
        <tr>
        
          
            <td>
            "probability"
            </td>
          
          
            <td>
            Applies a probability for each pair of Agents to be connected (excluding the Agent itself).
            </td>
          
          
            <td>
            probability
            </td>
          
          
            <td>
            inmemory, name, symmetric
            </td>
          
        
        <tr>
        
          
            <td>
            "quantity"
            </td>
          
          
            <td>
            Each Agent will be connected to a given number of other Agents randomly taken from the Society (excluding the Agent itself).
            </td>
          
          
            <td>
            quantity
            </td>
          
          
            <td>
            inmemory, name, symmetric
            </td>
          
        
        <tr>
        
          
            <td>
            "void"
            </td>
          
          
            <td>
            Create an empty SocialNetwork for each Agent of the Society.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            name
            </td>
          
        
        <tr>
        
          
            <td>
            "watts"
            </td>
          
          
            <td>
            Create a SocialNetwork according to the strategy proposed by Watts and Strogarz (1998) Collective dynamics of 'small-world' networks. Nature 393, 440-442.
            </td>
          
          
            <td>
            probability, quantity, strategy
            </td>
          
          
            <td>
            name
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>symmetric</strong>: A boolean value indicating that, if Agent a is connected to Agent b, then Agent b will be connected to Agent a. In practice, if this option is used, the number of connections double. For example, if one use this with 20% of probability, on average, Agents will be connected with 40% of probability. The default value is false.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">20</span>
}

<span class="id">soc</span>:<span class="function">createSocialNetwork</span>{
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">soc</span>:<span class="function">createSocialNetwork</span>{
    <span class="id">probability</span> = <span class="number">0.15</span>,
    <span class="id">name</span> = <span class="string">"random"</span>
}

<span class="id">cs</span> = <span class="function">CellularSpace</span>{<span class="id">xdim</span> = <span class="number">10</span>}
<span class="id">cs</span>:<span class="id">createNeighborhood</span>()
<span class="id">env</span> = <span class="function">Environment</span>{<span class="id">soc</span>, <span class="id">cs</span>}
<span class="id">env</span>:<span class="id">createPlacement</span>()

<span class="id">soc</span>:<span class="function">createSocialNetwork</span>{
   <span class="id">strategy</span> = <span class="string">"neighbor"</span>,
   <span class="id">name</span> = <span class="string">"byneighbor"</span>
}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="get">

	</a><strong>get</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a given <a href=../files/Agent.html>Agent</a> based on its position.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The position of the Agent that will be returned. It can be a number (with the position of the Agent in the vector of Agents) or a string (with the id of the Agent).
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">agent</span> = <span class="id">soc</span>:<span class="function">get</span>(<span class="string">"1"</span>)
<span class="id">print</span>(<span class="id">agent</span>.<span class="id">id</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getAgent">

	
		

		</a><font color="gray">getAgent <i>(deprecated, use
				
				<a href="../files/Society.html#get">get</a> 
			
		instead)</i></font>&nbsp;
	

</h2></dt>
<dd>

<font color="gray">
<span class="description">

Return a given <a href=../files/Agent.html>Agent</a> based on its position.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The position of the Agent that will be returned.
    </li> 
    
  
  </span></ul>







</font>


</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getAgents">

	
		

		</a><font color="gray">getAgents <i>(deprecated, use
			 
				Society.agents 
			
		instead)</i></font>&nbsp;
	

</h2></dt>
<dd>

<font color="gray">
<span class="description">

Return a vector with the <a href=../files/Agent.html>Agents</a> of the Society.<br><br></span>










</font>


</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="notify">

	</a><strong>notify</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Notify all the <a href=../files/Agent.html>Agents</a> of the Society.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A positive number representing the notification time. The default value is 0. It is also possible to use an <a href=../files/Event.html>Event</a> as argument. In this case, it will use the result of <a href=../files/Event.html#getTime>Event:getTime()</a>.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">soc</span>:<span class="function">notify</span>()
<span class="id">soc</span>:<span class="id">add</span>()
<span class="id">soc</span>:<span class="id">add</span>()
<span class="id">soc</span>:<span class="function">notify</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="remove">

	</a><strong>remove</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove a given <a href=../files/Agent.html>Agent</a> from the Society.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: The Agent that will be removed, or a function that takes an Agent as argument and returns true if the Agent must be removed.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">print</span>(#<span class="id">soc</span>)
<span class="id">soc</span>:<span class="function">remove</span>(<span class="id">soc</span>:<span class="id">sample</span>())
<span class="id">print</span>(#<span class="id">soc</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="sample">

	</a><strong>sample</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a random <a href=../files/Agent.html>Agent</a> from the Society.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span> = <span class="function">Agent</span>{}
<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">agent</span>,
    <span class="id">quantity</span> = <span class="number">10</span>
}

<span class="function">sample</span> = <span class="id">soc</span>:<span class="function">sample</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="size">

	
		

		</a><font color="gray">size <i>(deprecated, use
				
				<a href="../files/Society.html##">#</a> 
			
		instead)</i></font>&nbsp;
	

</h2></dt>
<dd>

<font color="gray">
<span class="description">

Return the number of <a href=../files/Agent.html>Agents</a> in the Society.<br><br></span>










</font>


</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="split">

	</a><strong>split</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Split the Society into a set of <a href=../files/Group.html>Groups</a> according to a classification strategy. The Groups will have empty intersection and union equal to the whole Society (unless function below returns nil for some <a href=../files/Agent.html>Agent</a>). It works according to the type of its only and compulsory argument.<br><br></span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string or a function, working as follows:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Type of argument
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            string
            </td>
          
          
            <td>
            The argument must represent the name of one attribute of the Agents of the Society. Split then creates one Group for each possible value of the attribute using the value as name and fills them with the Agents that have the respective attribute value. If the Society has an instance and the respective attribute in the instance is a <a href=../files/Random.html>Random</a> value with discrete or categorical strategy, it will use the possible values to create Groups, which means that the returning Groups can have size zero in this case.
            </td>
          
        
        <tr>
        
          
            <td>
            function
            </td>
          
          
            <td>
            The argument is a function that gets an Agent as argument and returns a name for the Agent, which can be a number, string, or boolean value. Groups are then named according to the returning value.
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{
    <span class="id">gender</span> = <span class="function">Random</span>{<span class="string">"male"</span>, <span class="string">"female"</span>},
    <span class="id">age</span> = <span class="function">Random</span>{<span class="id">min</span> = <span class="number">1</span>, <span class="id">max</span> = <span class="number">80</span>, <span class="id">step</span> = <span class="number">1</span>}
}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">50</span>
}

<span class="id">groups</span> = <span class="id">soc</span>:<span class="function">split</span>(<span class="string">"gender"</span>)
<span class="id">print</span>(#<span class="id">groups</span>.<span class="id">male</span>) <span class="comment">-- can be zero because it comes from an instance</span>
<span class="id">print</span>(#<span class="id">groups</span>.<span class="id">female</span>) <span class="comment">-- also</span>

<span class="id">groups2</span> = <span class="id">soc</span>:<span class="function">split</span>(<span class="reserved">function</span>(<span class="id">ag</span>)
    <span class="reserved">if</span> <span class="id">ag</span>.<span class="id">age</span> > <span class="number">60</span> <span class="reserved">then</span> 
        <span class="reserved">return</span> <span class="string">"old"</span> 
    <span class="reserved">else</span> 
        <span class="reserved">return</span> <span class="string">"notold"</span> 
    <span class="reserved">end</span>
<span class="reserved">end</span>)

<span class="reserved">if</span> <span class="id">groups2</span>.<span class="id">old</span> <span class="reserved">then</span> <span class="comment">-- might not exist as it does not come from an instance</span>
    <span class="id">print</span>(#<span class="id">groups2</span>.<span class="id">old</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="synchronize">

	</a><strong>synchronize</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Deliver asynchronous messages sent by <a href=../files/Agent.html>Agents</a> belonging to the Society.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number indicating the current delay to be delivered. Messages with delay less or equal this value are sent, while the others have their delays reduced by this value. The default value is one.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">nonFooAgent</span> = <span class="function">Agent</span>{
    <span class="id">received</span> = <span class="number">0</span>,
    <span class="id">on_message</span> = <span class="reserved">function</span>(<span class="id">self</span>)
        <span class="id">self</span>.<span class="id">received</span> = <span class="id">self</span>.<span class="id">received</span> + <span class="number">1</span>
    <span class="reserved">end</span>
}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">nonFooAgent</span>,
    <span class="id">quantity</span> = <span class="number">15</span>
}

<span class="id">soc</span>:<span class="id">createSocialNetwork</span>{<span class="id">quantity</span> = <span class="number">5</span>}

<span class="id">forEachAgent</span>(<span class="id">soc</span>, <span class="reserved">function</span>(<span class="id">agent</span>)
    <span class="id">forEachConnection</span>(<span class="id">agent</span>, <span class="reserved">function</span>(<span class="id">self</span>, <span class="id">friend</span>)
        <span class="id">self</span>:<span class="id">message</span>{<span class="id">receiver</span> = <span class="id">friend</span>, <span class="id">delay</span> = <span class="number">5</span>}
    <span class="reserved">end</span>)
<span class="reserved">end</span>)

<span class="id">otheragent</span> = <span class="id">soc</span>:<span class="id">sample</span>()
<span class="id">print</span>(<span class="id">otheragent</span>.<span class="id">received</span>)
<span class="id">soc</span>:<span class="function">synchronize</span>(<span class="number">4</span>)
<span class="id">print</span>(<span class="id">otheragent</span>.<span class="id">received</span>)
<span class="id">soc</span>:<span class="function">synchronize</span>(<span class="number">2</span>)
<span class="id">print</span>(<span class="id">otheragent</span>.<span class="id">received</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="#">

	</a><strong>#</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the number of <a href=../files/Agent.html>Agents</a> in the Society.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">ag</span> = <span class="function">Agent</span>{}

<span class="id">soc</span> = <span class="function">Society</span>{
    <span class="id">instance</span> = <span class="id">ag</span>,
    <span class="id">quantity</span> = <span class="number">2</span>
}

<span class="id">print</span>(<span class="function">#</span><span class="id">soc</span>)</code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

