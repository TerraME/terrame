<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li><strong>Event</strong></li>
				
			
		
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/LogFile.html">LogFile</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li>
						<a href="../files/Model.html">Model</a>
					</li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li>
						<a href="../files/Society.html">Society</a>
					</li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/FileSystem.html">FileSystem</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Utils.html">Utils</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Event
					
					
					</h1>

					
						<span class="description"></span>
					
					
					
					

					
						
						<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">



<span class="description">

An Event represents a time instant when the simulation engine must execute some computation. In order to be executed, Events must belong to a <a href=../files/Timer.html>Timer</a>. An Event is usually rescheduled to be executed again according to its period, unless its action explicitly returns false.</span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>action</strong>: A function that will be executed when the Event is activated. It has one single argument, the Event itself. If the action returns false, the Event is removed from the Timer and will not be executed again. When the action will execute a single function of a TerraME object, it is possible to use <a href=../files/Utils.html#call>call()</a>. Action can also be a TerraME object. In this case, each type has its own set of functions that will be activated by the Event. See below how the objects are activated. Arrows indicate the execution order:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Object
            </th>
          
          
            <th>
            Function(s) activated by the Event
            </th>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Agent.html>Agent</a>/<a href=../files/Automaton.html>Automaton</a>
            </td>
          
          
            <td>
            execute
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/CellularSpace.html>CellularSpace</a>/<a href=../files/Cell.html>Cell</a>
            </td>
          
          
            <td>
            synchronize and then execute (if exists)
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Chart.html>Chart</a>/<a href=../files/Map.html>Map</a>/<a href=../files/Clock.html>Clock</a>/<a href=../files/LogFile.html>LogFile</a>/<a href=../files/InternetSender.html>InternetSender</a>/<a href=../files/VisualTable.html>VisualTable</a>/<a href=../files/TextScreen.html>TextScreen</a>
            </td>
          
          
            <td>
            update
            </td>
          
        
        <tr>
        
          
            <td>
            function
            </td>
          
          
            <td>
            the function itself
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Model.html>Model</a>
            </td>
          
          
            <td>
            execute (if exists)
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Society.html>Society</a>
            </td>
          
          
            <td>
            synchronize and then execute (if exists)
            </td>
          
        
        <tr>
        
          
            <td>
            <a href=../files/Trajectory.html>Trajectory</a>/<a href=../files/Group.html>Group</a>
            </td>
          
          
            <td>
            rebuild
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>period</strong>: A positive number representing the periodicity of the Event. The default value is 1.
    </li> 
    
  
    <li>
	  <strong>priority</strong>: The priority of the Event over other Events. Smaller values have higher priority. The default value is zero for all actions but those related to graphics (Chart, Map, Clock, etc.). In this case, the default value is 10. Priorities can also be defined as strings:
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Value
            </th>
          
          
            <th>
            Priority
            </th>
          
        
        <tr>
        
          
            <td>
            "verylow"
            </td>
          
          
            <td>
            10
            </td>
          
        
        <tr>
        
          
            <td>
            "low"
            </td>
          
          
            <td>
            5
            </td>
          
        
        <tr>
        
          
            <td>
            "medium"
            </td>
          
          
            <td>
            0
            </td>
          
        
        <tr>
        
          
            <td>
            "high"
            </td>
          
          
            <td>
            -5
            </td>
          
        
        <tr>
        
          
            <td>
            "veryhigh"
            </td>
          
          
            <td>
            -10
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
    <li>
	  <strong>start</strong>: A number representing the time instant when the Event will occur for the first time. The default value is one, except when using graphics (Chart, Map, Clock, etc.) as action. In this case the default value is zero, plotting the initial state of the simulation.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span> {<span class="id">start</span> = <span class="number">1985</span>, <span class="id">period</span> = <span class="number">2</span>, <span class="id">priority</span> = <span class="number">-1</span>, <span class="id">action</span> = <span class="reserved">function</span>(<span class="id">event</span>)
    <span class="id">print</span>(<span class="id">event</span>:<span class="id">getTime</span>())
<span class="reserved">end</span>}

<span class="id">agent</span> = <span class="function">Agent</span>{
    <span class="id">execute</span> = <span class="reserved">function</span>()
        <span class="id">print</span>(<span class="string">"executing"</span>)
    <span class="reserved">end</span>
}

<span class="id">event2</span> = <span class="function">Event</span>{
    <span class="id">start</span> = <span class="number">2000</span>,
    <span class="id">action</span> = <span class="id">agent</span>
}

<span class="id">timer</span> = <span class="function">Timer</span>{<span class="id">event</span>, <span class="id">event2</span>}
<span class="id">timer</span>:<span class="id">run</span>(<span class="number">10</span>)</code></pre>




</dd>


						
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#config">config</a>&nbsp;
<td class="summary">Change the attributes of the Event.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getParent">getParent</a>&nbsp;
<td class="summary">Return the <a href=../files/Timer.html>Timer</a> that contains the Event.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getPeriod">getPeriod</a>&nbsp;
<td class="summary">Return the period of the Event.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getPriority">getPriority</a>&nbsp;
<td class="summary">Return the priority of the Event.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getTime">getTime</a>&nbsp;
<td class="summary">Return the current simulation time, according to the <a href=../files/Timer.html>Timer</a> it belongs.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="config">

	</a><strong>config</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Change the attributes of the Event. It will be rescheduled according to its new attributes if this function is called while the action is being executed. Be careful when using this function outside the events's action, because the scheduler will not update its queue. In this case, it is recommended to replace the Event by another one.</span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>period</strong>: The new periodicity of the Event.
    </li> 
    
  
    <li>
	  <strong>priority</strong>: The new priority of the Event.
    </li> 
    
  
    <li>
	  <strong>time</strong>: The time instant the Event will occur.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span>{<span class="id">start</span> = <span class="number">2</span>, <span class="id">action</span> = <span class="reserved">function</span>() <span class="reserved">end</span>}

<span class="id">event</span>:<span class="function">config</span>{<span class="id">priority</span> = <span class="number">-1</span>}
<span class="id">event</span>:<span class="function">config</span>{<span class="id">time</span> = <span class="number">10</span>, <span class="id">period</span> = <span class="number">2</span>}</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getParent">

	</a><strong>getParent</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the <a href=../files/Timer.html>Timer</a> that contains the Event.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span> {<span class="id">action</span> = <span class="reserved">function</span>(<span class="id">event</span>)
    <span class="id">print</span>(<span class="id">event</span>:<span class="id">getTime</span>())
<span class="reserved">end</span>}

<span class="id">timer</span> = <span class="function">Timer</span>{<span class="id">event</span>}

<span class="id">parent</span> = <span class="id">event</span>:<span class="function">getParent</span>()
<span class="reserved">if</span> <span class="id">parent</span> == <span class="id">timer</span> <span class="reserved">then</span>
    <span class="id">print</span>(<span class="string">"equal"</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getPeriod">

	</a><strong>getPeriod</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the period of the Event.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span> {<span class="id">start</span> = <span class="number">1985</span>, <span class="id">period</span> = <span class="number">2</span>, <span class="id">priority</span> = <span class="number">-1</span>, <span class="id">action</span> = <span class="reserved">function</span>(<span class="id">event</span>)
    <span class="id">print</span>(<span class="id">event</span>:<span class="id">getTime</span>())
<span class="reserved">end</span>}

<span class="id">period</span> = <span class="id">event</span>:<span class="function">getPeriod</span>()
<span class="id">print</span>(<span class="id">period</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getPriority">

	</a><strong>getPriority</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the priority of the Event.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span> {<span class="id">start</span> = <span class="number">1985</span>, <span class="id">period</span> = <span class="number">2</span>, <span class="id">priority</span> = <span class="number">-1</span>, <span class="id">action</span> = <span class="reserved">function</span>(<span class="id">event</span>)
    <span class="id">print</span>(<span class="id">event</span>:<span class="id">getTime</span>())
<span class="reserved">end</span>}

<span class="id">priority</span> = <span class="id">event</span>:<span class="function">getPriority</span>()
<span class="id">print</span>(<span class="id">priority</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getTime">

	</a><strong>getTime</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the current simulation time, according to the <a href=../files/Timer.html>Timer</a> it belongs.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">event</span> = <span class="function">Event</span> {<span class="id">start</span> = <span class="number">1985</span>, <span class="id">period</span> = <span class="number">2</span>, <span class="id">priority</span> = <span class="number">-1</span>, <span class="id">action</span> = <span class="reserved">function</span>(<span class="id">event</span>)
    <span class="id">print</span>(<span class="id">event</span>:<span class="function">getTime</span>())
<span class="reserved">end</span>}

<span class="id">time</span> = <span class="id">event</span>:<span class="function">getTime</span>()
<span class="id">print</span>(<span class="id">time</span>)</code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

