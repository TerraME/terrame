<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Event.html">Event</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/LogFile.html">LogFile</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li>
						<a href="../files/Model.html">Model</a>
					</li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li>
						<a href="../files/Society.html">Society</a>
					</li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
					<li><strong>FileSystem</strong></li>
				
			
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Utils.html">Utils</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>FileSystem
					
					
					</h1>

					
						<span class="description">Functions to handle files and directories. Most of the functions bellow are taken from LuaFileSystem 1.6.2. Copyright Kepler Project 2003 (<a href="http://www.keplerproject.org/luafilesystem" target="_blank">http://www.keplerproject.org/luafilesystem</a>).</span>
					
					
					
					

					
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#attributes">attributes</a>&nbsp;
<td class="summary">Return a table with the file attributes corresponding to filepath (or nil followed by an error message in case of error).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#chDir">chDir</a>&nbsp;
<td class="summary">Change the current working directory to the given path.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#currentDir">currentDir</a>&nbsp;
<td class="summary">Return a string with the current working directory or nil plus an error string.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#dir">dir</a>&nbsp;
<td class="summary">Return the files in a given directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#isDir">isDir</a>&nbsp;
<td class="summary">Return whether a given string represents a directory stored in the computer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#isFile">isFile</a>&nbsp;
<td class="summary">Return whether a given string represents a file stored in the computer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#isWindowsOS">isWindowsOS</a>&nbsp;
<td class="summary">Returns true if the operating system is Windows, otherwise returns false.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#linkAttributes">linkAttributes</a>&nbsp;
<td class="summary">Identical to <a href=files/FileSystem.html#attributes>attributes()</a> except that it obtains information about the link itself (not the file it refers to).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#lock">lock</a>&nbsp;
<td class="summary">Lock a file or a part of it.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#lockDir">lockDir</a>&nbsp;
<td class="summary">Create a lockfile (called lockfile.lfs) in path if it does not exist and returns the lock.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#mkDir">mkDir</a>&nbsp;
<td class="summary">Create a new directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#rmDir">rmDir</a>&nbsp;
<td class="summary">Remove an existing directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#rmFile">rmFile</a>&nbsp;
<td class="summary">Remove an existing file.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#runCommand">runCommand</a>&nbsp;
<td class="summary">Execute a system command and return its output.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#tmpDir">tmpDir</a>&nbsp;
<td class="summary">Create a temporary directory and return its name.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#touch">touch</a>&nbsp;
<td class="summary">Set access and modification times of a file.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#unlock">unlock</a>&nbsp;
<td class="summary">Unlock a file or a part of it.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="attributes">

	</a><strong>attributes</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a table with the file attributes corresponding to filepath (or nil followed by an error message in case of error). If the second optional argument is given, then only the value of the named attribute is returned (this use is equivalent to lfs.attributes(filepath).aname, but the table is not created and only one attribute is retrieved from the O.S.). The attributes are described as follows; attribute mode is a string, all the others are numbers, and the time related attributes use the same time reference of os.time. This function uses stat internally thus if the given filepath is a symbolic link, it is followed (if it points to another link the chain is followed recursively) and the information is about the file it refers to. To obtain information about the link itself, see <a href=../files/FileSystem.html#linkAttributes>linkAttributes()</a>.</span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the file path.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the name of the attribute to be read.
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Attribute
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            "dev"
            </td>
          
          
            <td>
            on Unix systems, this represents the device that the inode resides on. On Windows systems, represents the drive number of the disk containing the file
            </td>
          
        
        <tr>
        
          
            <td>
            "ino"
            </td>
          
          
            <td>
            on Unix systems, this represents the inode number. On Windows systems this has no meaning
            </td>
          
        
        <tr>
        
          
            <td>
            "mode"
            </td>
          
          
            <td>
            string representing the associated protection mode (the values could be file, directory, link, socket, named pipe, char device, block device or other)
            </td>
          
        
        <tr>
        
          
            <td>
            "nlink"
            </td>
          
          
            <td>
            number of hard links to the file
            </td>
          
        
        <tr>
        
          
            <td>
            "uid"
            </td>
          
          
            <td>
            user-id of owner (Unix only, always 0 on Windows)
            </td>
          
        
        <tr>
        
          
            <td>
            "gid"
            </td>
          
          
            <td>
            group-id of owner (Unix only, always 0 on Windows)
            </td>
          
        
        <tr>
        
          
            <td>
            "rdev"
            </td>
          
          
            <td>
            on Unix systems, represents the device type, for special file inodes. On Windows systems represents the same as dev
            </td>
          
        
        <tr>
        
          
            <td>
            "access"
            </td>
          
          
            <td>
            time of last access
            </td>
          
        
        <tr>
        
          
            <td>
            "modification"
            </td>
          
          
            <td>
            time of last data modification
            </td>
          
        
        <tr>
        
          
            <td>
            "change"
            </td>
          
          
            <td>
            time of last file status change
            </td>
          
        
        <tr>
        
          
            <td>
            "size"
            </td>
          
          
            <td>
            file size, in bytes
            </td>
          
        
        <tr>
        
          
            <td>
            "blocks"
            </td>
          
          
            <td>
            block allocated for file; (Unix only)
            </td>
          
        
        <tr>
        
          
            <td>
            "blksize"
            </td>
          
          
            <td>
            optimal file system I/O blocksize; (Unix only)
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">attributes</span>(<span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">path</span>, <span class="string">"mode"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="chDir">

	</a><strong>chDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Change the current working directory to the given path. Returns true in case of success or nil plus an error string.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the path.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">chDir</span>(<span class="string">"c:\\tests"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="currentDir">

	</a><strong>currentDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a string with the current working directory or nil plus an error string.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">cdir</span> = <span class="function">currentDir</span>()
<span class="id">print</span>(<span class="id">cdir</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="dir">

	</a><strong>dir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the files in a given directory.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string describing a directory.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A boolean value indicating whether hidden files should be returned. The default value is false.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">files</span> = <span class="function">dir</span>(<span class="string">"."</span>)

<span class="id">forEachFile</span>(<span class="id">files</span>, <span class="reserved">function</span>(<span class="id">file</span>)
    <span class="id">print</span>(<span class="id">file</span>)
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="isDir">

	</a><strong>isDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether a given string represents a directory stored in the computer.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="reserved">if</span> <span class="function">isDir</span>(<span class="string">"C:\\TerraME\\bin"</span>) <span class="reserved">then</span>
    <span class="id">print</span>(<span class="string">"is dir"</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="isFile">

	</a><strong>isFile</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether a given string represents a file stored in the computer. A directory is also considered a file.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="reserved">if</span> <span class="function">isFile</span>(<span class="string">"C:\\file.txt"</span>) <span class="reserved">then</span>
    <span class="id">print</span>(<span class="string">"is file"</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="isWindowsOS">

	</a><strong>isWindowsOS</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Returns true if the operating system is Windows, otherwise returns false.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="reserved">if</span> <span class="function">isWindowsOS</span>() <span class="reserved">then</span>
    <span class="id">print</span>(<span class="string">"is windows"</span>)
<span class="reserved">else</span>
    <span class="id">print</span>(<span class="string">"not windows"</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="linkAttributes">

	</a><strong>linkAttributes</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Identical to <a href=../files/FileSystem.html#attributes>attributes()</a> except that it obtains information about the link itself (not the file it refers to). On Windows this function does not yet support links, and is identical to <a href=../files/FileSystem.html#attributes>attributes()</a>.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the file path.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string with the name of the attribute to be read.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">linkAttributes</span>(<span class="id">filepath</span>, <span class="string">"size"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="lock">

	</a><strong>lock</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Lock a file or a part of it. This function works on open files; the file handle should be specified as the first argument. The optional arguments start and length can be used to specify a starting point and its length; both should be numbers. Returns true if the operation was successful; in case of error, it returns nil plus an error string.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A file handle with the file to be locked.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: A string representing the mode. It could be either r (for a read/shared lock) or w (for a write/exclusive lock).
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">filehandle</span> = <span class="id">openFile</span>(<span class="id">filePath</span>(<span class="string">"agents.csv"</span>, <span class="string">"base"</span>), <span class="string">"r"</span>)
<span class="function">lock</span>(<span class="id">filehandle</span>, <span class="string">"r"</span>)
<span class="id">unlock</span>(<span class="id">filehandle</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/FileSystem.html#unlock">unlock	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="lockDir">

	</a><strong>lockDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create a lockfile (called lockfile.lfs) in path if it does not exist and returns the lock. If the lock already exists checks if it's stale, using the second argeter (default for the second argeter is INT_MAX, which in practice means the lock will never be stale. In case of any errors it returns nil and the error message. In particular, if the lock exists and is not stale it returns the "File exists" message.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the path.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ld</span> = <span class="function">lockDir</span>(<span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">path</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="mkDir">

	</a><strong>mkDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create a new directory. The argument is the name of the new directory. Returns true if the operation was successful; in case of error, it returns nil plus an error string.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the path.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">mkDir</span>(<span class="string">"mydirectory"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="rmDir">

	</a><strong>rmDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove an existing directory. It removes all internal files and directories recursively. If the directory does not exist or it cannot be removed, this function stops with an error.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the path. The function will automatically add quotation marks in the beginning and in the end of this argument in order to avoid problems related to empty spaces in the string. Therefore, this string must not contain quotation marks.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">mkDir</span>(<span class="string">"mydirectory"</span>)

<span class="function">rmDir</span>(<span class="string">"mydirectory"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="rmFile">

	</a><strong>rmFile</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove an existing file. If the file does not exist or it cannot be removed, this function stops with an error. Directories cannot be removed using this function. If the file to be removed is a shapefile, it also removes the respective dbf, shx, and prj files if they exist.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the file to be removed. It might contain a path if needed. The function will automatically add quotation marks in the beginning and in the end of this argument in order to avoid problems related to empty spaces in the string. Therefore, this string must not contain quotation marks.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">file</span> = <span class="id">openFile</span>(<span class="string">"myfile.txt"</span>, <span class="string">"w"</span>)
<span class="id">file</span>:<span class="id">close</span>()

<span class="function">rmFile</span>(<span class="string">"myfile.txt"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="runCommand">

	</a><strong>runCommand</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Execute a system command and return its output. It returns two tables. The first one contains each standard output line as a position. The second one contains  each error output line as a position.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A command.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">result</span>, <span class="id">error</span> = <span class="function">runCommand</span>(<span class="string">"dir"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="tmpDir">

	</a><strong>tmpDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create a temporary directory and return its name. If this function is used without any argument, the directory will be deleted in the end of the simulation. Otherwise, the modeler will need to remove the directory manually if necessary. If the directory was deleted between two calls of this function without any argument then it is created again.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: Name of the directory to be created. It might contain a path to a given directory where the new one will be created. The end of the string might contain X's, which are going to be replaced by random alphanumerica values in order to guarantee that the created directory will not replace a previous one.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">tmpf</span> = <span class="function">tmpDir</span>(<span class="string">"mytmpdir_XXX"</span>)
<span class="id">print</span>(<span class="id">tmpf</span>)

<span class="id">rmDir</span>(<span class="id">tmpf</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="touch">

	</a><strong>touch</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Set access and modification times of a file. This function is a bind to utime function. Times are provided in seconds (which should be generated with Lua standard function os.time). If the modification time is omitted, the access time provided is used; if both times are omitted, the current time is used. Returns true if the operation was successful; in case of error, it returns nil plus an error string.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the file name.
    </li> 
    
  
    <li>
	  <strong>#2</strong>: The new access time (in seconds).
    </li> 
    
  
    <li>
	  <strong>#3</strong>: The new modification time (in seconds).
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">touch</span>(<span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">path</span>, <span class="number">0</span>, <span class="number">0</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="unlock">

	</a><strong>unlock</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Unlock a file or a part of it. This function works on open files; the file handle should be specified as the first argument. The optional arguments start and length can be used to specify a starting point and its length; both should be numbers. It returns true if the operation was successful. In case of error, it returns nil plus an error string.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A file handle with the file to be locked.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">filehandle</span> = <span class="id">openFile</span>(<span class="id">filePath</span>(<span class="string">"agents.csv"</span>, <span class="string">"base"</span>), <span class="string">"r"</span>)
<span class="id">lock</span>(<span class="id">filehandle</span>, <span class="string">"r"</span>)
<span class="function">unlock</span>(<span class="id">filehandle</span>)</code></pre>




<h3>See also</h3>
<ul>
	
	<li>
		

			<a href="../files/FileSystem.html#lock">lock	</a>
		
	</li>
	
</ul>

</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

